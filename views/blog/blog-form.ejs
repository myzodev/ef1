<%- include('../includes/components/counter') %>

<section class="container">
	<div class="flag-pattern"></div>
</section>

<section class="container">
	<header class="mb-40 gap-16 flex items-center">
		<h2 class="lg:h1 shrink-0"><%= article ? 'Edit article' : 'Create new article' %></h2>
		<div class="w-full h-10 bg-primary-300"></div>
	</header>

	<form
		class="gap-8 flex flex-col"
		action="<%= article ? `/blog/${article.slug}/${article.id}/edit` : '/blog/create' %>"
		enctype="multipart/form-data"
		method="POST"
	>

        <div>
            <label for="title">Title</label>
            <input id="title" type="text" placeholder="Title" name="title" value="<%= article ? article.title : '' %>" />
        </div>

        <div>
            <label for="category">Category</label>
            <input id="category" type="text" placeholder="Category" name="category" value="<%= article ? article.category : '' %>" />
        </div>

        <div>
            <label for="text">Text</label>
            <textarea id="text" placeholder="Text" name="text" rows="8"><%= article ? article.text : '' %></textarea>
        </div>

        <div>
            <label class="button button-sm button-dark cursor-pointer" for="image">Upload image</label>
            <input id="image" class="!hidden" type="file" name="image" value="<%= article ? article.image : '' %>"
                accept=".png,.jpg,.jpeg,.webp" hidden />
        </div>
        
		<button class="button button-base button-primary" type="submit"><%= article ? 'Save' : 'Create' %></button>
	</form>
</section>
